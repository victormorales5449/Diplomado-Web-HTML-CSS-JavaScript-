<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Start Of Script Generated By WP-PostRatings 1.40 -->
    <!-- <script type="text/javascript">
        /* <![CDATA[ */
        // var ratings_plugin_url = 'http://www.calculodehipoteca.net/wp-content/plugins/wp-postratings';
        // var ratings_ajax_url = 'http://www.calculodehipoteca.net/wp-content/plugins/wp-postratings/wp-postratings.php';
        // var ratings_text_wait = 'Por favor, sólo vote 1 entrada a la vez.';
        // var ratings_image = 'stars';
        // var ratings_image_ext = 'gif';
        // var ratings_max = 5;
        // var ratings_mouseover_image = new Image();
        // ratings_mouseover_image.src = ratings_plugin_url + "/images/" + ratings_image + "/rating_over.gif";
        // var ratings_show_loading = 1;
        // var ratings_show_fading = 1;
        // var ratings_custom = 0;
        /* ]]> */
    </script> -->
    <style>
        body {
            background-color: #FFFFFF;
        }

        .Estilo1 {
            color: #0000FF;
            font-weight: bold;
        }

        .Estilo3 {
            color: #000000
        }

        .Estilo4 {
            color: #000000;
            font-weight: bold;
        }

        .Estilo5 {
            font-size: 12px;
            font-family: Verdana, Arial, Helvetica, sans-serif;
            font-weight: bold;
        }

        table,
        td {
            border: 0;
        }

        table {
            width: 450px;
            background-color: #99FFFF;
        }

    </style>
</head>

<body>
    <div id="outer">
        <div id="content">
            <div id="main">
                <div class="post">
                    <table>
                        <tr>
                            <td>
                                <div class="post-content">
                                    <form name="formcuadro">
                                        <div align="center">
                                            
                                            <span class="post-title Estilo5">Cuadro de Amortización - Prestamo Banco Web
                                            </span>
                                        </div>


                                        <table>
                                            <tr>
                                                <td>
                                                    <div align="right" class="Estilo1 Estilo3">Dinero a solicitar:</div>
                                                </td>
                                                <td width="266">
                                                    <input name="capital" type="text" value="30000" size="6" maxlength="5"> Nuevos soles
                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <div align="right" class="Estilo4">Plazo: </div>
                                                </td>
                                                <td>
                                                    <span class="Estilo3">
                                                        <!-- <input name="anos" type="text" id="anos" value="0" size="3" maxlength="1" />
                                                        <strong>A&ntilde;os y</strong> -->
                                                        <input name="meses" type="text" id="meses" size="3" value="18" maxlength="2" />
                                                        <strong>Meses</strong>
                                                    </span>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <div align="right"><span class="Estilo3"><b>Interes:</b></span></div>
                                                </td>
                                                <td>
                                                    <div class="Estilo3">
                                                        <input name="int1" type="text" value="24" size="2" maxlength="2" /> % 
                                                        <input name="button" type="button"
                                                            onclick="cuadroamortizacion(this.form)" value="Calcular" />
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>

                                        <div align="center"><span class="Estilo3">
                                            </span>
                                        </div>
                                        <div><span class="Estilo3"> </span>
                                            <span class="Estilo3"></span>
                                            <span class="Estilo3"></span>
                                            <textarea cols="60" rows="37" name="cuadro"></textarea>
                                        </div>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    </table>

                    <p>&nbsp;</p>
                </div>
            </div>
        </div>
    </div>

<script>
    function cuadroamortizacion(form) {

        i = Number(form.int1.value);
        princ = Number(form.capital.value);

        intRate = (i / 100) / 12;
        // months = Number(form.anos.value * 12) + Number(form.meses.value);
        months = Number(form.meses.value);

        cuota = Math.floor((princ * intRate) / (1 - Math.pow(1 + intRate, (-1 * months))) * 100) / 100;


        txtcuadro = "Año\tMes\tCuota\tInteres\tAmortizacion\tCapital\n";

        capitalpendiente = princ;
        ano = 1;
        m = 0;

        for (i = 1; i <= months; i++) {
            m++;
            if (m > 12) {
                ano++;
                m = 1;
            }
            txtlinea = "";
            txtlinea += ano;
            txtlinea += "\t" + m;
            txtlinea += "\t" + cuota;
            intereses = Math.round(capitalpendiente * intRate * 100) / 100;
            txtlinea += "\  " + intereses;
            amortizacion = Math.round((cuota - intereses) * 100) / 100;
            txtlinea += "\t" + amortizacion;
            capitalpendiente = Math.round((capitalpendiente - amortizacion) * 100) / 100;
            txtlinea += "\         " + capitalpendiente;
            txtlinea += "\n";

            if (i == months) { //ultima cuota redondeo
                txtlinea = "";
                txtlinea += ano + "\t" + m;
                nuevacuota = Math.round((cuota + capitalpendiente) * 100) / 100;
                txtlinea += "\t" + nuevacuota;
                txtlinea += "\t" + intereses;
                txtlinea += "\t" + nuevacuota;
                txtlinea += "\t\t" + 0;
                txtlinea += "\n";
            }
            txtcuadro += txtlinea;
        }

        form.cuadro.value = txtcuadro;
    }     

    function printPage() {
        document.getElementById('print').style.visibility = 'hidden';
        // Do print the page
        if (typeof (window.print) != 'undefined') {
            window.print();
        }
        document.getElementById('print').style.visibility = '';
    }
</script>

</body>

</html>